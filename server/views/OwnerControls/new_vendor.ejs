<!-- IMPORTANT!!- Not in use -->

<%- include('../partials/headercode.ejs') %>

    <body>

        <!-- Layout wrapper -->
        <div class="layout-wrapper layout-content-navbar  ">
            <div class="layout-container">

                <!-- sidebar imported -->
                <%- include('../partials/sidebar.ejs') %>

                    <!-- Layout container -->
                    <div class="layout-page">

                        <!-- navbar imported -->
                        <%- include('../partials/navbar.ejs') %>

                            <!-- Content wrapper -->
                            <div class="content-wrapper">

                                <!-- Content -->

                                <div class="container-xxl flex-grow-1 container-p-y">


                                    <div class="d-flex justify-content-between m-0 p-0">
                                        <h4 class="fw-bold py-3 mb-1"> New Vendor</h4>
                                        <a type="button" class="btn btn-icon btn-danger my-2 mx-3" href="/vendor_list">
                                            <i class='bx bx-x bx-sm'></i>
                                        </a>
                                    </div>
                                    <hr class="mb-4">

                                    <div class="card mb-4 mx-auto col-md-10">
                                        <div class="card-body ">


                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label" for="vendor_name">Vendor
                                                    Name<span
                                                    style="font-size: 15px; color: red">*</span></label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span id="basic-icon-default-fullname2"
                                                            class="input-group-text"><i class="bx bx-user"></i></span>
                                                        <input class="form-control" id="vendor_name" placeholder=""
                                                            name="vendor_name"
                                                            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                                            type="number" maxlength="10" required>
                                                    </div>
                                                </div>
                                            </div>



                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label" for="vendor_contact">Contact
                                                    Number<span
                                                    style="font-size: 15px; color: red">*</span></label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span id="basic-icon-default-phone2" class="input-group-text"><i
                                                                class="bx bx-phone"></i></span>
                                                        <input id="vendor_contact" class="form-control phone-mask"
                                                            placeholder="" name="vendor_contact" \
                                                            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                                            type="number" maxlength="10" required>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label" for="vendor_email">Email</label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span class="input-group-text"><i
                                                                class="bx bx-envelope"></i></span>
                                                        <input type="text" id="vendor_email" class="form-control"
                                                            placeholder="" name="vendor_email">
                                                        <span id="basic-icon-default-email2"
                                                            class="input-group-text">@example.com</span>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label" for="vendor_gstin">GSTIN</label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span id="basic-icon-default-phone2" class="input-group-text"><i
                                                                class="bx bxs-bank"></i></span>
                                                        <input type="text" id="vendor_gstin"
                                                            class="form-control phone-mask" placeholder=""
                                                            name="vendor_gstin">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label" for="vendor_dl_no">DL No.</label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span id="basic-icon-default-phone2" class="input-group-text"><i
                                                                class='bx bx-detail'></i></span>
                                                        <input type="text" id="vendor_dl_no"
                                                            class="form-control phone-mask" placeholder=""
                                                            name="vendor_dl_no">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <label class="col-sm-2 col-form-label"
                                                    for="vendor_address">Address</label>
                                                <div class="col-sm-10">
                                                    <div class="input-group input-group-merge">
                                                        <span class="input-group-text"></span>
                                                        <textarea type="text" id="vendor_address" class="form-control"
                                                            placeholder="" name="vendor_address">
                                                        </textarea>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row justify-content-end">
                                                <div class="col-sm-10">
                                                    <button type="submit" class="btn btn-primary"
                                                        id="submitBtn">Add</button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>


                                </div>
                                <!-- / Content -->

                                <div class="content-backdrop fade"></div>
                            </div>
                            <!-- Content wrapper -->
                    </div>
                    <!-- / Layout page -->
            </div>



            <!-- Overlay -->
            <div class="layout-overlay layout-menu-toggle"></div>


        </div>
        <!-- / Layout wrapper -->

        <%- include('../partials/footercode.ejs') %>
            <script>
                $(document).ready(function () {
                    $("#submitBtn").click(function () {

                        $.ajax({
                            url: `/api/vendor/`,
                            type: 'POST',
                            data: JSON.stringify({
                                org_id: "<%= orgId %>",
                                vendor_name: $("#vendor_name").val(),
                                vendor_address: $("#vendor_address").val(),
                                vendor_contact: $("#vendor_contact").val(),
                                vendor_gstin: $("#vendor_gstin").val(),
                                vendor_email: $("#vendor_email").val(),
                                vendor_dl_no: $("#vendor_dl_no").val(),
                            }),
                            contentType: 'application/json',
                            success: function (response) {
                                console.log(response);
                                window.location.href = '/vendor_list'
                            },
                            error: function (error) {
                                console.log(error);
                            }
                        })
                    })
                })
            </script>

    </body>


    </html>