<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
    <style>
        .table>tbody>tr>.no-line {
            border-top: none;
        }

        .table>thead>tr>.no-line {
            border-bottom: none;
        }

        .table>tbody>tr>.thick-line {
            border-top: 2px solid;
        }
    </style>
</head>

<body>



    <div class="container">
        <div class="p-2 m-3">
            <button class="btn-border" onclick="CreatePDFfromHTML()">Download</button>
        </div>

        <div id="html-content" class="p-3 border">

            <div class="row ">
                <div class="col">
                    <div class="invoice-title">
                        <h2 class="text-center">Purchase Order</h2>
                        <h4 class="text-center">Facilitated by Dawa.ai</h4>

                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <ul class="col-4" style="list-style-type:none;">
                            <p>Pharmacy Details</p>
                            <hr>
                            <li><span><strong>Name:</strong></span><span></span></li>
                            <li><span><strong>Address:</strong></span><span></span></li>
                            <li><span><strong>Contact No:</strong></span><span></span></li>
                            <li><span><strong>DL No 1:</strong></span><span></span></li>
                            <li><span><strong>DL No 2:</strong></span><span></span></li>
                        </ul>
                        <ul class="col-4" style="list-style-type:none;">
                            <p>Vendor Details</p>
                            <hr>
                            <li><span><strong>Vendor Name:</strong></span><span></span></li>
                            <li><span><strong>Address:</strong></span><span></span></li>
                            <li><span><strong>Contact No:</strong></span><span></span></li>
                            <li><span><strong>DL No:</strong></span><span></span></li>
                        </ul>

                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-6">
                            <h4>PO No. #2323</h4>
                            <address>
                                <strong>Order Date:</strong><br>
                                <div id="orderdate"></div>
                            </address>
                        </div>
                    </div>
                </div>
            </div>

            <hr>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title"><strong>Order summary</strong></h3>
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Item Name</th>
                                            <th>Brand Name</th>
                                            <th>Quantity</th>
                                            <th>Unit</th>
                                        </tr>
                                    </thead>
                                    <tbody id="">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="row my-5">
                <div class="col-6">
                    <strong>Disclaimer:</strong>
                </div>
                <div class="col-3">
                    <strong>Signature</strong>
                </div>
            </div>
        </div>


    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>



    <script>
        //Create PDf from HTML...
        function CreatePDFfromHTML() {
            var HTML_Width = $("#html-content").width();
            var HTML_Height = $("#html-content").height();
            var top_left_margin = 15;
            var PDF_Width = HTML_Width + (top_left_margin * 2);
            var PDF_Height = (PDF_Width * 1.5) + (top_left_margin * 2);
            var canvas_image_width = HTML_Width;
            var canvas_image_height = HTML_Height;

            var totalPDFPages = Math.ceil(HTML_Height / PDF_Height) - 1;

            html2canvas($("#html-content")[0]).then(function (canvas) {
                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);
                pdf.addImage(imgData, 'JPG', top_left_margin, top_left_margin, canvas_image_width, canvas_image_height);
                for (var i = 1; i <= totalPDFPages; i++) {
                    pdf.addPage(PDF_Width, PDF_Height);
                    pdf.addImage(imgData, 'JPG', top_left_margin, -(PDF_Height * i) + (top_left_margin * 4), canvas_image_width, canvas_image_height);
                }
                pdf.save("invoice.pdf");
                $("#html-content").hide();
            });
        }
    </script>
</body>

</html>