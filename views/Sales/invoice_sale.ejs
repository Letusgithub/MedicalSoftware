<%- include('../partials/headercode.ejs') %>

  <body>

    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar  ">
      <div class="layout-container">

        <!-- sidebar imported -->
        <%- include('../partials/sidebar.ejs') %>


          <!-- Layout container -->
          <div class="layout-page">

            <!-- navbar imported -->
            <%- include('../partials/navbar.ejs') %>

              <!-- Content wrapper -->
              <div class="content-wrapper">




                <!-- Content -->

                <div class="container-xxl flex-grow-1 container-p-y">
                  <h4 class="fw-bold py-3 mb-1"> Invoice Sale</h4>
                  <hr class="mb-4">
                  <form>
                    <div class="row">

                      <tr>
                        <th>

                          <div class="col-md-6">

                            <div class="card mb-4">
                              <div class="d-flex justify-content-between m-0 p-0">
                                <h5 class="card-header">Customer Name</h5>
                                <div class=" text-center mt-3 ">
                                  <a class="btn btn-primary mx-4" style="color: white;" href="/new_customer">Add New
                                    Customer</a>
                                </div>
                              </div>
                              <div class="card-body pt-0">
                                <div>

                                  <input type="text" class="form-control" id="customername"
                                    aria-describedby="defaultFormControlHelp" placeholder="Customer name" />

                                </div>
                              </div>

                            </div>
                          </div>
                        </th>
                        <th>
                          <div class="col-md-6">
                            <div class="card mb-4">
                              <h5 class="card-header">Mobile Number</h5>
                              <div class="card-body">
                                <div>

                                  <input type="text" class="form-control" id="phonenumber"
                                    aria-describedby="defaultFormControlHelp" placeholder="10-digit number"/>

                                </div>
                              </div>
                            </div>
                          </div>
                        </th>

                      </tr>
                    </div>

                    <div class="row">
                      <tr>
                        <th>
                          <div class="col-md-6">
                            <div class="card mb-4">
                              <h5 class="card-header">Date</h5>
                              <div class="card-body">
                                <div>

                                  <input class="form-control" type="date" id="date" />

                                </div>
                              </div>
                            </div>
                          </div>
                        </th>

                        <th>
                          <div class="col-md-6">
                            <div class="card mb-4">
                              <h5 class="card-header">Reference</h5>
                              <div class="card-body">
                                <div>

                                  <input type="text" class="form-control" id="reference"
                                    aria-describedby="defaultFormControlHelp" placeholder="Doctor/Hospital name (optional)"/>

                                </div>
                              </div>
                            </div>
                          </div>
                        </th>

                      </tr>
                    </div>

                    <div class="row">
                      <tr>
                        <th>

                          <div class="col-md-6">
                            <div class="card mb-4">
                              <h5 class="card-header">Invoice Number</h5>
                              <div class="card-body">
                                <div>

                                  <input type="text" class="form-control" id="invoicenumber"
                                    aria-describedby="defaultFormControlHelp" />

                                </div>
                              </div>
                            </div>
                          </div>
                        </th>

                        <th>
                          <div class="col-md-6">
                            <div class="card mb-4">
                              <h5 class="card-header">Mode of Payment</h5>
                              <div class="card-body">
                                <div>

                                  <select class="form-select" id="mop" name="mop" aria-label="select mop">
                                    <option selected disabled>Select Option</option>
                                    <option value="cash">Cash</option>
                                    <option value="upi">UPI</option>
                                    <option value="debit-card">Debit card</option>
                                    <option value="credit-card">Credit card</option>

                                  </select>

                                </div>
                              </div>
                            </div>
                          </div>
                        </th>

                      </tr>
                    </div>


                  </form>
                </div>
              </div>


              <div class="row mx-3">
                <h4 class="fw-bold mb-4">Add Items</h4>

                <!-- Bordered Table -->
                <div class="bordered-table card mb-4 mx-0">

                  <form class="form-main">
                    <div class="card-body form-block">
                      <div class="table-responsive text-nowrap ">

                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th class="col-6">Medicine Name</th>
                              <th class="col-5">Mfg / Mkt</th>
                              <th class="col-1">Shelf Label</th>
                            </tr>

                          </thead>
                          <tbody>
                            <tr>
                              <td>
                                <input type="text" class="form-control" id="medicinename" placeholder="Medicine Name" />
                              </td>
                              <td>
                                <input type="text" class="form-control" id="mfg/mkt" placeholder="Brand Name" />
                              </td>
                              <td>
                                <input type="text" class="form-control" id="shelflabel" placeholder="" />
                              </td>
                            </tr>
                          </tbody>

                        </table>


                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>Batch</th>
                              <th>Exp Date</th>
                              <th>Unit</th>
                              <th>MRP</th>
                              <th>QTY</th>
                              <th>Disc %</th>
                              <th>Total</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>

                              <td>
                                <input type="text" class="form-control" id="batch" placeholder="" />
                              </td>

                              <td>
                                <input class="form-control" type="date" id="expdate" />
                              </td>

                              <td> 
                                <select class="form-select" id="unit" name="unit" aria-label="unit">
                                  <option>TABS</option>
                                  <option>STP</option>
                                </select>
                                <p class="unit">1 strip = 20 tabs </p>
                              </td>

                              <td>
                                <input type="text" class="form-control" id="price" placeholder="" />
                              </td>

                              <td>
                                <input type="text" class="form-control" id="qty" placeholder="" />
                              </td>

                              <td>
                                <input type="text" class="form-control" id="discount" placeholder="" />
                              </td>
                              
                              <td>
                                <input type="text" class="form-control" id="total" placeholder="" />
                              </td>
                            </tr>




                          </tbody>

                        </table>
                      </div>
                    </div>
                  </form>
                  <div class="buttonBox text-center pb-3">
                    <button id="addtocart" class="btn btn-primary add-more-btn" style="color: white;">Add to
                      Cart</button>
                    <!-- <a class="btn btn-primary remove" style="color: white;">Remove</a> -->
                  </div>
                </div>

                <!--/ Bordered Table -->


                <!-- Product Cart -->
                <div class="card mx-0">
                  <h5 class="card-header">Cart</h5>
                  <div class="card-body">
                    <div class="table-responsive text-nowrap">
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th class="col-1">#</th>
                            <th class="col-7">Medicine name</th>
                            <th class="col-1">Qty</th>
                            <th class="col-1">MRP</th>
                            <th class="col-1">Disc %</th>
                            <th class="col-1">Total</th>
                            <th class="col-1">Action</th>

                          </tr>
                        </thead>
                        <tbody id="cart">
                          <tr>
                          <td>1</td>
                          <td><i class="fab fa-angular fa-lg text-danger me-3"></i> <strong>Calpol 1000mg Tablet</strong></td>
                          <td>3</td>
                          <td>35</td>
                          <td>5</td>
                          <td>115</td>
                          <td>
                            <div class="action-btns">
                              <button type="button" class="btn p-0 mx-2"><i class='bx bxs-edit'></i></button>
                              <button type="button" class="btn p-0 mx-2"><i class="bx bx-trash me-1"></i></button>
                            </div>
                          </td>
                        </tr>


                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- / Product Cart -->
              </div>

              <hr>

              <div class="row mx-3">
                <h4 class="fw-bold py-3 mb-4">Order Summary</h4>

                <div class="col-md-3">
                  <div class="card mb-4">
                    <h5 class="card-header">Grand Total</h5>
                    <div class="card-body">
                      <div>

                        <input type="text" class="form-control" id="defaultFormControlInput"
                          aria-describedby="defaultFormControlHelp" />

                      </div>
                    </div>
                  </div>
                </div>


                <div class="col-md-3">
                  <div class="card mb-4">
                    <h5 class="card-header">Add Discount (%)</h5>
                    <div class="card-body">
                      <div>

                        <input type="text" class="form-control" id="defaultFormControlInput"
                          aria-describedby="defaultFormControlHelp" />

                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="card mb-4">
                    <div class="d-flex justify-content-between m-0 p-0">
                      <h5 class="card-header">Final Amount</h5>
                      <div class="text-center m-3">
                        <a class="btn btn-primary btn-sm" style="color: white;">Round Off</a>
                      </div>
                    </div>

                    <div class="card-body pt-0">
                      <div>

                        <input type="text" class="form-control" id="defaultFormControlInput"
                          aria-describedby="defaultFormControlHelp" />

                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="card mb-4">
                    <h5 class="card-header">Paid Amount</h5>
                    <div class="card-body">
                      <div>

                        <input type="text" class="form-control" id="defaultFormControlInput"
                          aria-describedby="defaultFormControlHelp" />

                      </div>
                    </div>
                  </div>
                </div>






              </div>
              <!-- / Content -->



              <div class="text-center mb-4">
                <a href="/invoice_template">
                  <div class="btn btn-primary px-5">Submit</div>
                </a>
              </div>




              <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
      </div>
      <!-- / Layout page -->
    </div>



    <!-- Overlay -->
    <div class="layout-overlay layout-menu-toggle"></div>


    </div>
    <!-- / Layout wrapper -->

    <%- include('../partials/footercode.ejs') %>


      <!-- Add item to cart table function -->
      <script>
        var addToCart = document.getElementById("addtocart")
        addToCart.addEventListener("click", displayItems)

        var row = 0

        function displayItems() {

          var medicinename = document.getElementById("medicinename").value
          var shelflabel = document.getElementById("shelflabel").value
          var hsn = document.getElementById("hsn").value
          var batch = document.getElementById("batch").value
          var mfgdate = document.getElementById("mfgdate").value
          var expdate = document.getElementById("expdate").value
          var price = document.getElementById("price").value
          var qty = document.getElementById("qty").value
          var discount = document.getElementById("discount").value
          var gst = document.getElementById("gst").value
          var total = document.getElementById("total").value

          var cart = document.getElementById("cart");

          var newRow = cart.insertRow(row);

          var cell1 = newRow.insertCell(0);
          var cell2 = newRow.insertCell(1);
          var cell3 = newRow.insertCell(2);
          var cell4 = newRow.insertCell(3);
          var cell5 = newRow.insertCell(4);
          var cell6 = newRow.insertCell(5);
          var cell7 = newRow.insertCell(6);

          actionHTML = "<div class='action-btns'><button type='button' class='btn p-0 mx-2'><i class='bx bxs-edit'></i></button><button onclick='deleteItem(this)' type='button' class='btn p-0 mx-2'><i class='bx bx-trash me-1'></i></button></div>";

          cell1.innerHTML = row + 1;
          cell2.innerHTML = medicinename;
          cell3.innerHTML = qty;
          cell4.innerHTML = price;
          cell5.innerHTML = discount;
          cell6.innerHTML = total;
          cell7.insertAdjacentHTML("afterbegin", actionHTML);

          row++;
        };

        function deleteItem(r) {
          var i = r.parentNode.parentNode.rowIndex;
          document.getElementById("cart").deleteRow(i + 1);
        };

      </script>







  </body>


  </html>































  <!-- <script>
        $('.add-more-btn').click(function () {
          var clone = $('.form-main:first').clone('');
          clone.find('input').val('');
          $(".buttonBox").before(clone);
        });

        $('.remove').click(function () {
          $('.form-main:last').remove();
        });
      </script>

      <script>
        $(function () {
          var dtToday = new Date();

          var month = dtToday.getMonth() + 1;
          var day = dtToday.getDate();
          var year = dtToday.getFullYear();
          if (month < 10)
            month = '0' + month.toString();
          if (day < 10)
            day = '0' + day.toString();

          var maxDate = year + '-' + month + '-' + day;

          // or instead:
          // var maxDate = dtToday.toISOString().substr(0, 10);


          $('#txtDate').attr('min', maxDate);
        });
      </script> -->